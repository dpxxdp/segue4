<section>
  <div class="pull-right">
    <a class="btn btn-info" ui-sref="scrambles.list()">
      <i class="glyphicon glyphicon-arrow-up"></i>
    </a>
  </div>
  <div class="page-header">
    <h1>View Message</h1>
  </div>
  <div class="well">
    <div class="pull-right" data-ng-show="vm.scramble.isCurrentUserOwner">
      <a class="btn btn-primary" data-ui-sref="scrambles.edit({ scrambleId: vm.scramble._id })">
        <i class="glyphicon glyphicon-edit"></i>
      </a>
      <a class="btn btn-primary" data-ng-click="vm.remove()">
        <i class="glyphicon glyphicon-trash"></i>
      </a>
    </div>
    <div ng-show="!vm.viewPt" class="wordwrap">
      <p data-ng-bind="vm.scramble.content"></p>
    </div>
    <div ng-show="vm.viewPt">
      <p data-ng-bind="vm.pt"></p>
    </div>
    <span data-ng-if="vm.scramble.user" data-ng-bind="vm.scramble.user.displayName"></span>
    <span data-ng-if="!vm.scramble.user">Deleted User</span>
    on
    <small>
      <span data-ng-bind="vm.scramble.created | date:'mediumDate'"></span>
    </small>
  </div>
  <div ng-show="!vm.viewPt">
    <div class="form-group">
      <input name="content" type="text" ng-model="vm.k" id="content" class="form-control" placeholder="Key" required>
    </div>
    <div class="form-group">
      <button type="button" class="btn btn-success" ng-click="dc();">Decrypt</button>
    </div>
    <div ng-show="vm.dcError" class="text-danger">
      <strong ng-bind="vm.dcError"></strong>
    </div>
  </div>
  <div ng-show="vm.viewPt">
    <div class="form-group">
      <button type="button" class="btn btn-danger" ng-click="secure();">Wipe</button>
    </div>
    <div class="well">
      <span class="glyphicon glyphicon-exclamation-sign"></span>
      <small>As an extra precaution, you may choose to 'Wipe' the message before you navigate away from this page.  This overwrites the memory used to hold the plaintext message you are viewing.
        <br>There is no such thing as perfect security, but every bit counts.
      </small>
    </div>
  </div>
</section>